(this.webpackJsonpiwtform=this.webpackJsonpiwtform||[]).push([[0],{48:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(42),i=n.n(c),s=(n(48),n(7)),o=n(10),u=n(68),l=n(4),d=Object(r.createContext)(),b={titleForm:{title:"",desc:""},contentForms:[],isAnimateSubmitButton:!1,isDark:!1,isModal:!1,isLogin:!1,isLoading:!1,isEdit:!0,uid:"",inputs:[],idForm:""},p=function(e,t){switch(t.type){case"CHANGE_TITLEFORM":return Object(l.a)(Object(l.a)({},e),{},{titleForm:t.value});case"CHANGE_CONTENTFORM":return Object(l.a)(Object(l.a)({},e),{},{contentForms:t.value});case"CHANGE_ISANIMATESUBMITBUTTON":return Object(l.a)(Object(l.a)({},e),{},{isAnimateSubmitButton:t.value});case"CHANGE_ISDARK":return Object(l.a)(Object(l.a)({},e),{},{isDark:t.value});case"CHANGE_ISMODAL":return Object(l.a)(Object(l.a)({},e),{},{isModal:t.value});case"CHANGE_ISLOGIN":return Object(l.a)(Object(l.a)({},e),{},{isLogin:t.value});case"CHANGE_ISLOADING":return Object(l.a)(Object(l.a)({},e),{},{isLoading:t.value});case"CHANGE_UID":return Object(l.a)(Object(l.a)({},e),{},{uid:t.value});case"CHANGE_ISEDIT":return Object(l.a)(Object(l.a)({},e),{},{isEdit:t.value});case"CHANGE_INPUTS":return Object(l.a)(Object(l.a)({},e),{},{inputs:t.value});case"CHANGE_IDFORM":return Object(l.a)(Object(l.a)({},e),{},{idForm:t.value});default:return e}},j=n.p+"static/media/document.3e4e98f2.svg",f=n.p+"static/media/moon.5f48c4f6.svg",x=n.p+"static/media/sun.76fea37d.svg",h=n(67),m=function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(r.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))},O=n(3),g=function(e){var t=e.setOverHide,n=Object(r.useContext)(d),a=n.state,c=n.dispatch,i=Object(r.useRef)();return m(i,(function(){return t(!1)})),Object(O.jsxs)("div",{ref:i,className:"cursor-pointer relative h-full",onClick:function(){t(!0),c({type:"CHANGE_ISDARK",value:!a.isDark})},children:[Object(O.jsx)("img",{src:f,alt:"light-mode",className:"h-6 w-6 invisible"}),Object(O.jsx)(u.a,{children:!a.isDark&&Object(O.jsx)(h.a.img,{variants:v,initial:"initial",animate:"animate",exit:"exit",src:x,alt:"light-mode",className:"h-6 w-6 absolute top-0"})}),Object(O.jsx)(u.a,{children:a.isDark&&Object(O.jsx)(h.a.img,{variants:v,initial:"initial",animate:"animate",exit:"exit",src:f,alt:"dark-mode",className:"h-6 w-6 absolute top-0"})})]})},v={initial:{y:100},animate:{y:0,transition:{delay:.23}},exit:{y:100}},y=n(9),N=n.n(y),w=n(13),C=n(28);n(51),n(55);C.a.initializeApp({apiKey:"AIzaSyAPPDnLQF6RAGjE88B6B5Iy4jdirg2YjTA",authDomain:"iwtassignment-aeefa.firebaseapp.com",projectId:"iwtassignment-aeefa",storageBucket:"iwtassignment-aeefa.appspot.com",messagingSenderId:"103502324216",appId:"1:103502324216:web:d0fc173e84c1cec3d7b60d",measurementId:"G-CMNQVEMV3P"});var E=function(e,t){return new Promise((function(n,r){return C.a.auth().signInWithEmailAndPassword(e,t).then((function(e){return n(e.user)})).catch((function(e){return r(e)}))}))},A=function(e,t){return new Promise((function(n,r){return C.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){return n(e.user)})).catch((function(e){return r(e)}))}))},I=function(e,t){return new Promise((function(n,r){return C.a.database().ref(e).push(t).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},k=function(e,t){return new Promise((function(n,r){return C.a.database().ref(e).set(t).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},G=function(e){return new Promise((function(t,n){return C.a.database().ref(e).on("value",(function(e){return e.val()?t(e.val()):n("data not found or database error")}))}))},S=function(e){return new Promise((function(t,n){return C.a.database().ref(e).remove().then((function(){return t(!0)})).catch((function(e){return n(e)}))}))},D=function(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useState)(!1),c=Object(s.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(""),b=Object(s.a)(l,2),p=b[0],j=b[1],f=Object(r.useRef)();return m(f,(function(){return o(!1)})),Object(r.useEffect)((function(){var e=function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("users/".concat(t.uid)).then((function(e){return j(e.name)})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.uid&&e(),function(){return j("")}}),[t.uid]),Object(O.jsxs)("div",{ref:f,onClick:function(){return t.isLogin?o(!i):n({type:"CHANGE_ISMODAL",value:!0})},className:"".concat(p?"bg-green-600":"bg-indigo-600"," h-10 w-10 relative rounded-full border-2 border-gray-200 flex justify-center items-center cursor-pointer"),children:[Object(O.jsx)("span",{className:"text-white text-lg",children:p?p.charAt(0):"?"}),Object(O.jsx)(u.a,{children:i&&Object(O.jsx)(h.a.button,{variants:T,initial:"initial",animate:"animate",exit:"exit",onClick:function(){window.location.reload(),localStorage.clear()},className:"absolute py-2 px-3 -left-5 top-11 border border-gray-300 bg-white rounded shadow-lg hover:bg-indigo-50 outline-none focus:outline-none text-sm",children:"Logout"})})]})},T={initial:{y:50},animate:{y:0},exit:{y:50,transition:{type:"tween",ease:"easeIn",duration:.23}}},F=n(22);function H(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(O.jsxs)("header",{className:"".concat(n&&"overflow-hidden"," bg-white text-gray-600 w-full flex left-0 top-0 fixed items-center justify-between py-3 px-2 sm:px-8 z-50"),children:[Object(O.jsxs)(F.b,{to:"/",className:"flex items-center space-x-2",children:[Object(O.jsx)("img",{src:j,alt:"logo",className:"h-10 w-10"}),Object(O.jsx)("h1",{className:"text-2xl",children:"Forms"})]}),Object(O.jsxs)("div",{className:"space-x-6 flex items-center",children:[Object(O.jsx)(g,{setOverHide:a}),Object(O.jsx)(D,{})]})]})}var _=n(8),L=n(26),M=function(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],o=c[1],u=Object(r.useContext)(ne),b=t.inputs,p=b.findIndex((function(e){return e.id===u}));return Object(O.jsx)("input",{onChange:function(e){return function(e){o(e.target.value),-1===p?0===b.length?n({type:"CHANGE_INPUTS",value:[{id:u,type:"text",inputs:e.target.value}]}):n({type:"CHANGE_INPUTS",value:[].concat(Object(_.a)(b),[{id:u,type:"text",inputs:e.target.value}])}):(b[p]=Object(l.a)(Object(l.a)({},b[p]),{},{inputs:e.target.value}),n({type:"CHANGE_INPUTS",value:Object(_.a)(b)}))}(e)},value:i,placeholder:"Short answer text",className:"".concat(t.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 w-full py-2")})},U=function(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useContext)(ne),c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],u=i[1],b=t.inputs,p=b.findIndex((function(e){return e.id===a}));return Object(O.jsx)("textarea",{onChange:function(e){return function(e){u(e.target.value),-1===p?0===b.length?n({type:"CHANGE_INPUTS",value:[{id:a,type:"textarea",inputs:e.target.value}]}):n({type:"CHANGE_INPUTS",value:[].concat(Object(_.a)(b),[{id:a,type:"textarea",inputs:e.target.value}])}):(b[p]=Object(l.a)(Object(l.a)({},b[p]),{},{inputs:e.target.value}),n({type:"CHANGE_INPUTS",value:Object(_.a)(b)}))}(e)},value:o,placeholder:"Long answer text",className:"".concat(t.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 w-full py-2 h-auto resize-none")})},R=n.p+"static/media/plus.f8304564.svg",P=function(){var e=Object(r.useContext)(ne),t=Object(r.useContext)(d),n=t.state,a=t.dispatch,c=n.contentForms,i=c.findIndex((function(t){return t.id===e})),s=c[i]&&c[i].options,o=function(){c[i]=Object(l.a)(Object(l.a)({},c[i]),{},{options:Object(_.a)(s)}),a({type:"CHANGE_CONTENTFORM",value:Object(_.a)(c)})},u=n.inputs,b=u.findIndex((function(t){return t.id===e}));return Object(O.jsxs)("div",{children:[s.map((function(t,r){return Object(O.jsxs)("div",{className:"flex items-center space-x-3 relative group",children:[Object(O.jsx)("input",{name:"radio",value:t,type:"radio",disabled:n.isEdit,className:"h-5 w-5",onChange:function(t){return function(t){-1===b?0===u.length?a({type:"CHANGE_INPUTS",value:[{id:e,type:"radio",inputs:t.target.value}]}):a({type:"CHANGE_INPUTS",value:[].concat(Object(_.a)(u),[{id:e,type:"radio",inputs:t.target.value}])}):(u[b]=Object(l.a)(Object(l.a)({},u[b]),{},{inputs:t.target.value}),a({type:"CHANGE_INPUTS",value:Object(_.a)(u)}))}(t)}}),Object(O.jsx)("input",{disabled:!n.isEdit,value:t||"",onChange:function(e){s[r]=e.target.value,o()},placeholder:"opsi ".concat(r+1),className:"".concat(n.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 w-full py-2")}),n.isEdit&&s.length>1&&Object(O.jsx)("div",{className:"absolute right-0 flex justify-end items-center cursor-pointer opacity-0 group-hover:opacity-100 duration-300",onClick:function(){s.splice(r,1),o()},children:Object(O.jsx)("img",{src:R,alt:"delete",className:"h-5 w-5 transform rotate-45"})})]},r)})),n.isEdit&&Object(O.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(O.jsx)("input",{type:"radio",disabled:!0,className:"h-5 w-5"}),Object(O.jsx)("button",{type:"button",onClick:function(){s.push(""),o()},className:"".concat(n.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 py-2 text-gray-400"),children:"Add option"})]})]})},B=function(){var e=Object(r.useContext)(ne),t=Object(r.useContext)(d),n=t.state,a=t.dispatch,c=n.contentForms,i=c.findIndex((function(t){return t.id===e})),o=c[i]&&c[i].options,u=function(){c[i]=Object(l.a)(Object(l.a)({},c[i]),{},{options:Object(_.a)(o)}),a({type:"CHANGE_CONTENTFORM",value:Object(_.a)(c)})},b=Object(r.useState)([]),p=Object(s.a)(b,2),j=p[0],f=p[1],x=n.inputs,h=x.findIndex((function(t){return t.id===e}));return Object(O.jsxs)("div",{children:[o.map((function(t,r){return Object(O.jsxs)("div",{className:"flex items-center space-x-3 relative group",children:[Object(O.jsx)("input",{onClick:function(t){return function(t,n){var r=j;r[n]?r[n]=null:r[n]=t.target.value,f(r),-1===h?0===x.length?a({type:"CHANGE_INPUTS",value:[{id:e,type:"checkbox",inputs:r}]}):a({type:"CHANGE_INPUTS",value:[].concat(Object(_.a)(x),[{id:e,type:"checkbox",inputs:r}])}):(x[h]=Object(l.a)(Object(l.a)({},x[h]),{},{inputs:r}),a({type:"CHANGE_INPUTS",value:Object(_.a)(x)}))}(t,r)},name:"checkbox",value:t,type:"checkbox",disabled:n.isEdit,className:"h-5 w-5"}),Object(O.jsx)("input",{disabled:!n.isEdit,value:t||"",onChange:function(e){o[r]=e.target.value,u()},placeholder:"opsi ".concat(r+1),className:"".concat(n.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 w-full py-2")}),n.isEdit&&o.length>1&&Object(O.jsx)("div",{className:"absolute right-0 flex justify-end items-center cursor-pointer opacity-0 group-hover:opacity-100 duration-300",onClick:function(){o.splice(r,1),u()},children:Object(O.jsx)("img",{src:R,alt:"delete",className:"h-5 w-5 transform rotate-45"})})]},r)})),n.isEdit&&Object(O.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(O.jsx)("input",{type:"checkbox",disabled:!0,className:"h-5 w-5"}),Object(O.jsx)("button",{type:"button",onClick:function(){o.push(""),u()},className:"".concat(n.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 py-2 text-gray-400"),children:"Add option"})]})]})},z=function(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useContext)(ne),c=t.contentForms,i=c.findIndex((function(e){return e.id===a})),s=c[i],o=c[i]&&c[i].inputType,u=function(e){c[i]=Object(l.a)(Object(l.a)({},c[i]),{},Object(L.a)({},e.target.name,e.target.value)),n({type:"CHANGE_CONTENTFORM",value:Object(_.a)(c)})};return Object(O.jsxs)("div",{className:"space-y-2 pt-4 pb-8",children:[Object(O.jsx)("input",{name:"title",value:s?s.title:"",placeholder:"Question title",onChange:function(e){return u(e)},className:"".concat(t.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white","  border-b focus:border-b-2 focus:border-purple-700 w-full text-xl py-3"),disabled:!t.isEdit}),s&&s.isDesc&&Object(O.jsx)("input",{name:"desc",value:s?s.desc:"",placeholder:"Question description",className:"".concat(t.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 w-full text-sm"),onChange:function(e){return u(e)},disabled:!t.isEdit}),"text"===o&&Object(O.jsx)(M,{}),"textarea"===o&&Object(O.jsx)(U,{}),"radio"===o&&Object(O.jsx)(P,{}),"checkbox"===o&&Object(O.jsx)(B,{})]})},J=(n.p,n.p+"static/media/trash.77e62337.svg"),W=n.p+"static/media/plusCircle.b5c3d234.svg",Q=function(e){e.duplicate;var t=Object(r.useContext)(d),n=t.state,a=t.dispatch,c=Object(r.useContext)(ne),i=n.contentForms,s=n.contentForms.findIndex((function(e){return e.id===c})),o=function(){a({type:"CHANGE_ISANIMATESUBMITBUTTON",value:!0}),setTimeout((function(){a({type:"CHANGE_ISANIMATESUBMITBUTTON",value:!1})}),300)},u=[{icon:W,alt:"plus",onClick:function(){var e={id:Date.now(),title:"",isDesc:!1,desc:"",options:[],inputType:"text"};i.splice(s+1,0,Object(l.a)({},e)),a({type:"CHANGE_CONTENTFORM",value:Object(_.a)(i)})},x:76},{icon:J,alt:"remove",onClick:function(){i.splice(s,1),a({type:"CHANGE_CONTENTFORM",value:Object(_.a)(i)}),i.length===s&&o()},x:40}];return n.isEdit&&Object(O.jsx)("div",{className:"border-t py-3 flex justify-end items-center space-x-3",children:u.map((function(e,t){return Object(O.jsx)("span",{children:Object(O.jsx)(h.a.img,{initial:{rotate:360,x:e.x,opacity:0},animate:{rotate:0,x:0,opacity:1},transition:{delay:.2,type:"spring",duration:.5,stiffness:80},src:e.icon,alt:e.alt,className:"h-6 w-6 cursor-pointer",onClick:function(){return e.onClick()}})},t)}))})},K=n.p+"static/media/verticalDots.de64790e.svg",V=n.p+"static/media/menu.24171495.svg",Y=n.p+"static/media/menuAlt.40e66ec3.svg",q=n.p+"static/media/grid.3b174aa2.svg",X=n.p+"static/media/check.672a7c13.svg",Z=n.p+"static/media/documentAdd.900b14a5.svg",$=n.p+"static/media/documentRemove.b1220d38.svg",ee=function(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useContext)(ne),c=t.contentForms,i=c.findIndex((function(e){return e.id===a})),o=c[i],l=Object(r.useState)(!1),b=Object(s.a)(l,2),p=b[0],j=b[1],f=Object(r.useRef)();m(f,(function(){return p&&j(!1)}));var x=function(e){c[i].inputType=e,c[i].options=[""],n({type:"CHANGE_CONTENTFORM",value:Object(_.a)(c)})},g=[{icon:Y,text:"Short answer",type:"text",onClick:x},{icon:V,text:"Paragraph",type:"textarea",onClick:x},{icon:q,text:"Multiple choice",type:"radio",onClick:x},{icon:X,text:"Checkbox      ",type:"checkbox",onClick:x},{icon:o&&o.isDesc?$:Z,text:o&&o.isDesc?"Delete description":"Add description",onClick:function(){c[i].isDesc?c[i].isDesc=!1:c[i].isDesc=!0,n({type:"CHANGE_CONTENTFORM",value:Object(_.a)(c)})}}];return t.isEdit&&Object(O.jsxs)("div",{ref:f,onClick:function(){return j(!p)},className:"".concat(p?"bg-gray-300 z-10":"hover:bg-gray-100"," absolute right-2 top-2 p-2 rounded-full duration-200 cursor-pointer "),children:[Object(O.jsx)("img",{src:K,alt:"dots",className:"h-6 w-6"}),Object(O.jsx)(u.a,{children:p&&Object(O.jsx)(h.a.div,{variants:te,initial:"initial",animate:"animate",exit:"exit",className:"absolute rounded shadow right-0 top-12 bg-white w-60",children:Object(O.jsx)("ul",{className:"text-gray-500 py-1",children:g.map((function(e,t){return Object(O.jsxs)("li",{className:"flex items-center space-x-3 py-2 px-5 hover:bg-gray-100 ",onClick:function(){return e.onClick(e.type)},children:[Object(O.jsx)("img",{src:e.icon,alt:"icon",className:"h-5 w-5"}),Object(O.jsx)("p",{children:e.text})]},t)}))})})})]})},te={initial:{y:-50},animate:{y:0},exit:{y:-150,transition:{type:"tween",ease:"easeIn",duration:.23}}},ne=Object(r.createContext)();function re(e){var t=e.id,n=Object(r.useContext)(d).state;return Object(O.jsx)(ne.Provider,{value:t,children:Object(O.jsxs)(h.a.div,{initial:{y:150},animate:{y:0},exit:{y:150,transition:{ease:"easeIn",type:"tween",duration:.2}},className:"\n          ".concat(n.isDropdown&&"z-10","\n          ").concat(n.isDark?"light-shadow bg-gray-100 text-gray-700":"shadow bg-white","\n           px-8 border-t rounded-lg relative \n        "),children:[Object(O.jsx)(z,{}),Object(O.jsx)(Q,{}),Object(O.jsx)(ee,{})]})})}function ae(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=t.contentForms,c=function(e){t.titleForm=Object(l.a)(Object(l.a)({},t.titleForm),{},Object(L.a)({},e.target.name,e.target.value)),n({type:"CHANGE_TITLEFORM",value:t.titleForm})};return Object(O.jsxs)("div",{style:{borderTopWidth:"10px"},className:"\n      ".concat(t.isDark?"light-shadow bg-gray-100 text-gray-700":"shadow bg-white","\n      bg-white px-8 border-t  rounded-lg border-purple-600"),children:[Object(O.jsxs)("div",{className:"pt-4 pb-8 space-y-2",children:[Object(O.jsx)("input",{name:"title",disabled:!t.isEdit,value:t.titleForm.title?t.titleForm.title:"",placeholder:"Form title",onChange:function(e){return c(e)},className:"".concat(t.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," focus:border-b-2 focus:border-purple-700 w-full text-3xl py-3")}),Object(O.jsx)("textarea",{disabled:!t.isEdit,name:"desc",value:t.titleForm.desc?t.titleForm.desc:"",placeholder:"Form description",onChange:function(e){return c(e)},className:"".concat(t.isDark?"bg-gray-100 hover:border-gray-300 border-gray-100":"bg-white hover:border-gray-300 border-white"," border-b focus:border-b-2 focus:border-purple-700 w-full py-2 h-auto resize-none")})]}),t.isEdit&&Object(O.jsx)("div",{className:"border-t py-3 flex justify-end items-center space-x-3",children:Object(O.jsx)("img",{src:W,alt:"plus",className:"h-6 w-6 cursor-pointer",onClick:function(){return function(){var e={id:Date.now(),title:"",isDesc:!1,desc:"",options:[],inputType:"text"};a.unshift(Object(l.a)({},e)),n({type:"CHANGE_CONTENTFORM",value:Object(_.a)(a)})}()}})})]})}var ce=function(){var e=(new Date).getMonth()+1,t=(new Date).getDate(),n=(new Date).getFullYear(),r=(new Date).getHours(),a=(new Date).getMinutes(),c=(new Date).getSeconds();return"".concat(e," ").concat(t," ").concat(n," ").concat(r,":").concat(a,":").concat(c)};function ie(){var e=Object(o.i)().id,t=Object(o.g)().push,n=Object(o.h)().pathname,a=Object(r.useContext)(d),c=a.state,i=a.dispatch,s=n.indexOf("uid=")+4,l=n.indexOf("&&id="),b=n.substring(s,l),p=function(){var n=Object(w.a)(N.a.mark((function n(r){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),c.contentForms.length!==c.inputs.length){n.next=18;break}return i({type:"CHANGE_ISLOADING",value:!1}),n.prev=3,n.next=6,I("/users/".concat(b,"/forms/").concat(e,"/response/"),c.inputs);case 6:alert("The data you have entered has been successfully recorded"),t("/"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),alert(n.t0);case 13:return n.prev=13,i({type:"CHANGE_ISLOADING",value:!1}),n.finish(13);case 16:n.next=19;break;case 18:alert("there can be nothing empty");case 19:case"end":return n.stop()}}),n,null,[[3,10,13,16]])})));return function(e){return n.apply(this,arguments)}}(),j=function(){var n=Object(w.a)(N.a.mark((function n(r){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!c.titleForm.title){n.next=12;break}if(0===c.contentForms.length){n.next=9;break}return i({type:"CHANGE_ISLOADING",value:!0}),a={title:c.titleForm,contentForms:c.contentForms,date:ce()},n.next=7,k("/users/".concat(c.uid,"/forms/").concat(e,"/"),a).then((function(){return t("/")})).catch((function(e){return alert(e)})).finally((function(){return i({type:"CHANGE_ISLOADING",value:!1})}));case 7:n.next=10;break;case 9:alert("form cannot be empty");case 10:n.next=13;break;case 12:alert("form title cannot be blank");case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){return function(){var t=Object(w.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:"CHANGE_ISLOADING",value:!0}),t.prev=1,t.next=4,G("users/".concat(b,"/forms/").concat(e,"/"));case 4:n=t.sent,i({type:"CHANGE_TITLEFORM",value:n.title}),i({type:"CHANGE_COLOR",value:n.color}),i({type:"CHANGE_CONTENTFORM",value:n.contentForms}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("data tidak ada");case 13:return t.prev=13,i({type:"CHANGE_ISLOADING",value:!1}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(){return t.apply(this,arguments)}}()(),function(){i({type:"CHANGE_TITLEFORM",value:{title:"",desc:""}}),i({type:"CHANGE_COLOR",value:"purple"}),i({type:"CHANGE_CONTENTFORM",value:[]}),i({type:"CHANGE_INPUTS",value:[]})}}),[i,e,b]),Object(r.useEffect)((function(){return"edit"===n.substring(1,5)?i({type:"CHANGE_ISEDIT",value:!0}):i({type:"CHANGE_ISEDIT",value:!1}),function(){return i({type:"CHANGE_ISEDIT",value:!0})}}),[i,n]);return"edit"===n.substring(1,5)&&c.uid!==b?Object(O.jsx)(o.a,{to:"/"}):Object(O.jsx)("section",{children:Object(O.jsxs)("form",{onSubmit:function(e){return c.isEdit?j(e):p(e)},className:"w-11/12 lg:w-1/2 py-5 space-y-4 mx-auto",children:[Object(O.jsx)(ae,{}),Object(O.jsx)(u.a,{children:c.contentForms&&c.contentForms.map((function(e){return Object(O.jsx)(re,{id:e.id},e.id)}))}),Object(O.jsx)("div",{className:"flex justify-end py-3",children:Object(O.jsx)(u.a,{children:!c.isAnimateSubmitButton&&Object(O.jsx)(h.a.button,{variants:se,initial:"initial",animate:"animate",exit:"exit",type:"submit",className:"text-gray-500 tracking-wide bg-white shadow rounded-md py-2 px-5 ".concat(c.isDark?"light-shadow bg-gray-100":"shadow"),children:"SUBMIT"})})})]})})}var se={initial:{x:150},animate:{x:0,transition:{ease:"easeOut",type:"spring",stiffness:70,duration:.3}},exit:{x:150}},oe=n.p+"static/media/pencil.830bd8ea.svg",ue=function(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useState)(!1),c=Object(s.a)(a,2),i=c[0],u=c[1],l=Object(o.g)().push;return Object(O.jsxs)(h.a.div,{initial:{y:100},animate:{y:0},exit:{y:100,transition:{ease:"easeInOut"}},transition:{type:"spring",stiffness:150},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onClick:function(){return function(){var e=Date.now();t.isLogin?l("edit/uid=".concat(t.uid,"&&id=").concat(e,"/")):n({type:"CHANGE_ISMODAL",value:!0})}()},className:"absolute h-16 w-16 bottom-8 right-8 rounded-full shadow-md bg-white",children:[Object(O.jsx)("div",{className:"h-full w-full absolute left-0 top-0 flex items-center justify-center cursor-pointer",children:Object(O.jsx)("img",{src:R,alt:"+",className:"".concat(i?"rotate-45 opacity-20 invisible":"rotate-0 translate-y-0 opacity-100 delay-100"," transform duration-100 h-10 w-10")})}),Object(O.jsx)("div",{className:"h-full w-full absolute left-0 top-0 flex items-center justify-center cursor-pointer",children:Object(O.jsx)("img",{src:oe,alt:"+",className:"".concat(i?"rotate-0 translate-y-0 opacity-100 delay-100":"-rotate-45 opacity-20 invisible"," transform duration-100 h-7 w-7")})})]})},le=function(e){var t=e.isDropdown,n=e.openForm,r=e.editForm,a=e.deleteForm,c=[{text:"Open",onClick:n},{text:"Edit",onClick:r},{text:"copy link URL",onClick:e.copyToClipboard},{text:"Show data",onClick:e.showData},{text:"Delete",onClick:a}];return Object(O.jsx)(u.a,{children:t&&Object(O.jsx)(h.a.div,{variants:de,initial:"initial",animate:"animate",exit:"exit",className:"absolute rounded shadow right-0 lg:-right-20 lg:top-10 bg-white w-40 z-10",children:Object(O.jsx)("ul",{className:"text-gray-500 py-1",children:c.map((function(e,t){return Object(O.jsx)("li",{className:"py-2 px-5 hover:bg-gray-100 block",onClick:function(){return e.onClick()},children:e.text},t)}))})})})},de={initial:{y:-50},animate:{y:0},exit:{y:-150,transition:{type:"tween",ease:"easeIn",duration:.23}}},be=function(e){for(var t=e.split(" "),n=0;n<pe.length;n++)t[0]===(n+1).toString()&&(t[0]=pe[n]);var r=t[t.length-1].split(":");return function(e,t,n){if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])}(t,0,1),r.pop(),t.pop(),"".concat(t.join("-")," ").concat(r.join(":")," WIB")},pe=["January","February","March","April","May","June","July","August","September","October","November","December"];var je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e.length>t?e.substring(0,t)+" ...":e},fe=function(e){var t=e.form,n=e.fetchUserData,a=Object(r.useContext)(d),c=a.state,i=a.dispatch,u=Object(r.useState)(!1),l=Object(s.a)(u,2),b=l[0],p=l[1],f=Object(o.g)().push,x=function(){f("/".concat(t.id)),i({type:"CHANGE_ISEDIT",value:!1})},h=function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("users/".concat(c.uid,"/forms/").concat(t.id,"/")).then((function(){return n()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(r.useRef)();return m(g,(function(){return b&&p(!1)})),Object(O.jsxs)("div",{className:"bg-white shadow rounded text-sm py-3 px-5 space-y-2 relative",children:[Object(O.jsx)("p",{className:"text-gray-700 font-semibold text-base",children:Object(O.jsx)(F.b,{onClick:x,children:je(t.title.title,20)})}),Object(O.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(O.jsx)("img",{src:j,alt:"form",className:"h-5 w-5"}),Object(O.jsxs)("span",{className:"text-gray-500",children:["Updated ",be(t.date)]})]}),Object(O.jsxs)("div",{ref:g,onClick:function(){return p(!b)},className:"hover:bg-gray-100 absolute right-1 top-1 p-1 rounded-full duration-200 cursor-pointer",children:[Object(O.jsx)("img",{src:K,alt:"dots",className:"h-5 w-5"}),Object(O.jsx)(le,{id:t.id,isDropdown:b,openForm:x,editForm:function(){f("/edit/".concat(t.id)),i({type:"CHANGE_ISEDIT",value:!0})},copyToClipboard:function(){return navigator.clipboard.writeText(window.location.href+t.id).then((function(){return alert("URL copied successfully")})).catch((function(e){return alert(e)}))},showData:function(){i({type:"CHANGE_IDFORM",value:t.id})},deleteForm:h})]})]},t.id)},xe=function(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useState)([]),c=Object(s.a)(a,2),i=c[0],o=c[1],u=t.idForm,l=u.indexOf("&&id="),b=u.substring(4,l);return Object(r.useEffect)((function(){return function(){var e=Object(w.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"CHANGE_ISLOADING",value:!0}),e.prev=1,e.next=4,G("users/".concat(b,"/forms/").concat(u));case 4:t=e.sent,n({type:"CHANGE_TITLEFORM",value:t.title}),n({type:"CHANGE_CONTENTFORM",value:t.contentForms}),r=[],Object.keys(t.response).map((function(e){return r.push(t.response[e])})),o(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("no data");case 15:return e.prev=15,n({type:"CHANGE_ISLOADING",value:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}()(),function(){n({type:"CHANGE_TITLEFORM",value:{title:"",desc:""}}),n({type:"CHANGE_CONTENTFORM",value:[]}),o([])}}),[n,u,b]),t.idForm&&Object(O.jsxs)("table",{className:"".concat(t.isDark?"text-gray-700":"text-gray-500"," bg-white rounded-md shadow-md"),children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{className:"border-b-2 border-gray-300 text-left",children:t.contentForms.sort((function(e,t){return e.id-t.id})).map((function(e,t){return Object(O.jsx)("th",{className:"px-6 font-semibold",style:{height:"40px"},children:e.title},t)}))})}),Object(O.jsx)("tbody",{children:i.map((function(e,t){return Object(O.jsx)("tr",{className:"border-b text-left",children:e.sort((function(e,t){return e.id-t.id})).map((function(e,t){return Object(O.jsx)("td",{className:"px-6",style:{height:"40px"},children:"checkbox"!==e.type?e.inputs:e.inputs.join(",")},t)}))},t)}))})]})};function he(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useContext)(d).state,i=Object(r.useCallback)(Object(w.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("users/".concat(c.uid));case 2:t=e.sent,(n=t.forms)?(r=[],Object.keys(n).map((function(e){var t=Object(l.a)(Object(l.a)({},n[e]),{},{id:e});return r.push(t)})),a(r)):a([]);case 5:case"end":return e.stop()}}),e)}))),[c.uid]);return Object(r.useEffect)((function(){return c.uid&&i(),function(){return a([])}}),[c.uid,i]),Object(O.jsxs)("section",{style:{minHeight:"90vh"},className:"relative ",children:[Object(O.jsxs)("div",{className:"w-11/12 lg:w-2/3 py-3 space-y-6 mx-auto",children:[Object(O.jsx)("h6",{className:"".concat(c.isDark?"text-gray-100":"text-gray-700"," font-semibold text-lg "),children:"Latest Form"}),n.length?Object(O.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((function(e){return Object(O.jsx)(fe,{form:e,fetchUserData:i},e.id)}))}):Object(O.jsxs)("div",{className:"text-center bg-white shadow-md py-8 rounded-md space-y-2",children:[Object(O.jsx)("h6",{className:"text-gray-500 font-semibold text-lg",children:"No form yet"}),Object(O.jsx)("p",{className:"text-gray-400",children:"Click + to create a new form"})]}),Object(O.jsx)("div",{className:"overflow-x-auto py-3",children:Object(O.jsx)(xe,{})})]}),Object(O.jsx)(ue,{})]})}var me=n.p+"static/media/user.ba62f0fa.svg",Oe=n.p+"static/media/edit.f4456ca7.svg",ge=function(e){var t=e.isSignUp,n=e.setSignUp,r=e.dispatch;return Object(O.jsxs)("div",{className:"flex justify-between items-center px-6 bg-gray-100",children:[Object(O.jsxs)("ul",{className:"flex space-x-8 pt-3",children:[Object(O.jsx)("li",{children:Object(O.jsxs)("div",{onClick:function(){return n(!1)},className:"".concat(t?"text-gray-600 hover:text-red-300 duration-300":"text-red-400 border-b border-red-500"," flex items-center space-x-2 font-semibold py-3 cursor-pointer"),children:[Object(O.jsx)("img",{src:me,alt:"login",className:"h-7 w-7"}),Object(O.jsx)("p",{children:"Sign In"})]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("div",{onClick:function(){return n(!0)},className:"".concat(t?"text-red-400 border-b border-red-500":"text-gray-600 hover:text-red-300 duration-300"," flex items-center space-x-2 font-semibold py-3 cursor-pointer"),children:[Object(O.jsx)("img",{src:Oe,alt:"register",className:"h-7 w-7"}),Object(O.jsx)("p",{children:"Sign Up"})]})})]}),Object(O.jsx)("div",{onClick:function(){return r({type:"CHANGE_ISMODAL",value:!1})},className:"cursor-pointer z-50",children:Object(O.jsx)("svg",{className:"fill-current text-gray-600",xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",children:Object(O.jsx)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})})})]})},ve=function(e){var t=e.isSignUp,n=e.setSignUp,a=Object(r.useContext)(d).dispatch,c=Object(r.useState)({remember:!1}),i=Object(s.a)(c,2),o=i[0],u=i[1],b=function(){var e=Object(w.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"CHANGE_ISLOADING",value:!0}),t={name:o.name,email:o.email,password:o.password},e.prev=2,e.next=5,A(o.email,o.password);case 5:return r=e.sent,e.next=8,k("users/".concat(r.uid),t);case 8:alert("successful registration"),n(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),alert("sign up error\n"+e.t0.message+"\ncode : "+e.t0.code);case 15:return e.prev=15,a({type:"CHANGE_ISLOADING",value:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"CHANGE_ISLOADING",value:!0}),e.next=3,E(o.email,o.password).then((function(e){localStorage.setItem("uid",JSON.stringify(e.uid)),a({type:"CHANGE_ISMODAL",value:!1}),a({type:"CHANGE_UID",value:e.uid}),a({type:"CHANGE_ISLOGIN",value:!0})})).catch((function(e){return alert("login error\n"+e.message+"\ncode : "+e.code)})).finally((function(){return a({type:"CHANGE_ISLOADING",value:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return function(){return u({remember:!1})}}),[]),Object(O.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t?o.name&&o.email&&o.password&&o["re-password"]?o.password===o["re-password"]?b():alert("password doesn't match"):alert("cannot be empty"):o.email&&o.password?p():alert("cannot be empty")}(e)},children:[Object(O.jsx)("div",{className:"py-6 px-6",children:Object(O.jsxs)("div",{className:"text-gray-600 text-sm space-y-4",children:[(t?Ne:ye).map((function(e,t){return Object(O.jsxs)("div",{className:"flex flex-col space-y-1",children:[Object(O.jsx)("label",{htmlFor:"modal-".concat(e.id),className:"font-semibold",children:e.label}),Object(O.jsx)("input",{onChange:function(e){return function(e){return u(Object(l.a)(Object(l.a)({},o),{},Object(L.a)({},e.target.name,e.target.value)))}(e)},value:o[e.id]?o[e.id]:"",id:"modal-".concat(e.id),name:e.id,type:e.type,className:"py-2 px-3 border border-gray-300 focus:border-red-300 focus:shadow-red rounded-md duration-300 text-sm"})]},t)})),!t&&Object(O.jsxs)("div",{className:"flex justify-between items-center",children:[Object(O.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(O.jsx)("input",{onChange:function(e){return u(Object(l.a)(Object(l.a)({},o),{},{remember:e.target.checked}))},id:"modal-remember",name:"remember",type:"checkbox",className:"border-gray-300 border"}),Object(O.jsx)("label",{htmlFor:"modal-remember",children:"Remember me"})]}),Object(O.jsx)("button",{type:"button",className:"text-red-400 hover:text-red-500",children:"Forgot the password?"})]})]})}),Object(O.jsx)("div",{className:"py-3 px-6",children:Object(O.jsx)("button",{type:"submit",className:"w-full mb-3 py-2 rounded shadow-red bg-red-400 hover:bg-red-500 text-white text-center focus:outline-none outline-none tracking-widest duration-200",children:t?"REGISTER":"LOGIN"})})]})},ye=[{label:"Email address",id:"email",type:"text"},{label:"Password",id:"password",type:"password"}],Ne=[{label:"Full name",id:"name",type:"text"},{label:"Email address",id:"email",type:"text"},{label:"Password",id:"password",type:"password"},{label:"Reenter password",id:"re-password",type:"password"}];function we(){var e=Object(r.useContext)(d),t=e.state,n=e.dispatch,a=Object(r.useRef)();m(a,(function(){return t.isModal&&n({type:"CHANGE_ISMODAL",value:!1})}));var c=Object(r.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(O.jsx)(u.a,{exitBeforeEnter:!0,children:t.isModal&&Object(O.jsx)(h.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed w-full h-100 inset-0 z-50 overflow-hidden justify-center items-center flex",style:{background:"rgba(0,0,0,.7)"},children:Object(O.jsx)(h.a.div,{initial:{opacity:0,y:"-100vh"},animate:{opacity:1,y:0},transition:{delay:.5},ref:a,className:"w-11/12 sm:w-3/4 lg:w-1/3 bg-white rounded shadow-lg z-50 overflow-y-auto",children:Object(O.jsxs)("div",{className:"modal-content text-left",children:[Object(O.jsx)(ge,{isSignUp:o,setSignUp:l,dispatch:n}),Object(O.jsx)(ve,{isSignUp:o,setSignUp:l})]})})})})}function Ce(){return Object(r.useContext)(d).state.isLoading&&Object(O.jsx)("div",{className:"fixed top-0 left-0 z-50 w-screen h-screen flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.3)"},children:Object(O.jsxs)("div",{className:"bg-white border py-2 px-5 rounded-lg flex items-center flex-col",children:[Object(O.jsxs)("div",{className:"loader-dots block relative w-20 h-5 mt-2",children:[Object(O.jsx)("div",{className:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"}),Object(O.jsx)("div",{className:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"}),Object(O.jsx)("div",{className:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"}),Object(O.jsx)("div",{className:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"})]}),Object(O.jsx)("div",{className:"text-gray-500 text-xs font-light mt-2 text-center",children:"loading"})]})})}n(64);var Ee=function(){var e=Object(o.h)(),t=Object(r.useReducer)(p,b),n=Object(s.a)(t,2),a=n[0],c=n[1],i={color:a.isDark?"#eee":"#999",backgroundColor:a.isDark?"#1F2937":"#F3F4F6",transition:"all .5s ease",WebkitTransition:"all .5s ease",MozTransition:"all .5s ease"};return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("uid"));return e&&(c({type:"CHANGE_ISLOGIN",value:!0}),c({type:"CHANGE_UID",value:e})),function(){c({type:"CHANGE_ISLOGIN",value:!1}),c({type:"CHANGE_UID",value:""})}}),[c]),Object(O.jsxs)(d.Provider,{value:{state:a,dispatch:c},children:[Object(O.jsxs)("div",{style:i,className:"min-h-screen",children:[Object(O.jsx)(H,{}),Object(O.jsx)("main",{className:"pt-16",children:Object(O.jsx)(u.a,{exitBeforeEnter:!0,children:Object(O.jsxs)(o.d,{location:e,children:[Object(O.jsx)(o.b,{exact:!0,path:"/",component:he}),Object(O.jsx)(o.b,{exact:!0,path:"/:id",component:ie}),Object(O.jsx)(o.b,{path:"/edit/:id",component:ie})]},e.key)})}),Object(O.jsx)(we,{})]}),Object(O.jsx)(Ce,{})]})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(F.a,{children:Object(O.jsx)(Ee,{})})}),document.getElementById("root")),Ae()}},[[65,1,2]]]);
//# sourceMappingURL=main.94925a88.chunk.js.map